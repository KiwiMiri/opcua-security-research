# OPC UA μ—°κµ¬ ν™κ²½ μµμΆ… μ”μ•½

## π― ν„μ¬ μƒνƒ

### β… μ™„λ£λ μ‘μ—…

1. **5κ° OPC UA κµ¬ν„μ²΄ μ„¤μ •**
   - Python (python-opcua) - ν¬νΈ 4840
   - Node.js (node-opcua) - ν¬νΈ 4841
   - open62541 (C) - ν¬νΈ 4842
   - FreeOpcUa (Python) - ν¬νΈ 4843
   - Eclipse Milo (Java) - ν¬νΈ 4844

2. **μλ™ν™” μ¤ν¬λ¦½νΈ μ„ΈνΈ (18κ°)**
   - μ„λ²„ κ΄€λ¦¬: start/stop μ¤ν¬λ¦½νΈ
   - μΊ΅μ²: μ •μƒ/κ³µκ²© νΈλν”½ μΊ΅μ²
   - λ¶„μ„: PCAP λ¶„μ„, λ³΄κ³ μ„ μƒμ„±
   - λ…Όλ¬Έμ©: μΊ΅μ… μλ™ μƒμ„±

3. **ν΄λΌμ΄μ–ΈνΈ κµ¬ν„**
   - Python ν΄λΌμ΄μ–ΈνΈ
   - Node.js ν΄λΌμ΄μ–ΈνΈ

4. **λ¬Έμ„ν™”**
   - README.md - μ „μ²΄ κ°μ”
   - EXPERIMENT_GUIDE.md - μƒμ„Έ μ‹¤ν— κ°€μ΄λ“
   - QUICK_START.md - λΉ λ¥Έ μ‹μ‘
   - TROUBLESHOOTING.md - λ¬Έμ  ν•΄κ²°

### β οΈ μ•λ ¤μ§„ μ΄μ

1. **PCAP νμΌμ΄ λΉ„μ–΄μμ** (ν•µμ‹¬ μ΄μ)
   - μ›μΈ: μΊ΅μ² μ¤‘ ν΄λΌμ΄μ–ΈνΈ μ—°κ²°μ΄ μ—†μ
   - ν•΄κ²°: ν΄λΌμ΄μ–ΈνΈ μλ™ μ‹¤ν–‰ κΈ°λ¥ μ¶”κ°€ ν•„μ”

2. **μΌλ¶€ μ„λ²„ μ—°κ²° μ‹¤ν¨**
   - open62541: Connection refused
   - FreeOpcUa: Connection refused
   - Eclipse Milo: Connection refused
   - μ›μΈ: μ„λ²„ μ—”λ“ν¬μΈνΈ κ²½λ΅ λ¶μΌμΉ λλ” μ„λ²„ λ―Έμ‹μ‘

3. **μ‹¤μ  κ³µκ²© μ‹λ®¬λ μ΄μ… λ―Έκµ¬ν„**
   - ν„μ¬λ” μ •μƒ/κ³µκ²© κµ¬λ¶„ μ—†μ΄ λ™μΌν• ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰
   - MITM/λ‹¤μ΄κ·Έλ μ΄λ“ μ‹λ‚λ¦¬μ¤ ν•„μ”

## π€ λ‹¤μ λ‹¨κ³„

### μ¦‰μ‹ μ‹λ„ κ°€λ¥

1. **Python/Node.js μ„λ²„λ΅ ν…μ¤νΈ**
```bash
# μ„λ²„ μ‹μ‘
./scripts/start_all_servers.sh

# λ³„λ„ ν„°λ―Έλ„μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰
cd /root/opcua-research
source venv/bin/activate
python3 clients/python/client.py

# μΊ΅μ²
sudo tcpdump -i any -w /tmp/test.pcap 'tcp port 4840 or tcp port 4841' &
python3 clients/python/client.py
sudo killall tcpdump

# λ¶„μ„
tshark -r /tmp/test.pcap -c 20
```

2. **κΈ°μ΅΄ μ¤ν¬λ¦½νΈ ν™μ©**
```bash
# μ „μ²΄ μ‹¤ν— (κ°μ„  ν•„μ”)
./scripts/run_full_experiment_v2.sh

# λΉ λ¥Έ κ²€μ¦
./scripts/quick_check.sh

# κ°λ³„ λ¶„μ„
./scripts/analyze_pcaps.sh
./scripts/generate_report.sh
```

### κ°μ„  μ‚¬ν•­

1. **μ‹¤μ  νΈλν”½ μΊ΅μ² λ³΄μ¥**
   - ν΄λΌμ΄μ–ΈνΈ μλ™ μ‹¤ν–‰ ν†µν•©
   - μ—°κ²° νƒ€μ„μ•„μ›ƒ λ° μ¬μ‹λ„ λ΅μ§
   - μΊ΅μ² μ„±κ³µ μ—¬λ¶€ κ²€μ¦

2. **λ¨λ“  μ„λ²„ μ—°κ²° μ•μ •ν™”**
   - μ—”λ“ν¬μΈνΈ κ²½λ΅ μμ •
   - λ΅κ·Έ κΈ°λ° λ””λ²„κΉ…
   - μ„λ²„ μƒνƒ λ¨λ‹ν„°λ§

3. **κ³µκ²© μ‹λ‚λ¦¬μ¤ κµ¬ν„**
   - MITM ν”„λ΅μ‹ κµ¬ν„
   - SecurityPolicy λ‹¤μ΄κ·Έλ μ΄λ“ μλ™ν™”
   - μκ²©μ¦λ… νƒμ·¨ κ²€μ¦

## π“ ν„μ¬ μ‘μ—… κ°€λ¥ν• λ²”μ„

### β… λ°”λ΅ μ‚¬μ© κ°€λ¥

- Python, Node.js μ„λ²„μ™€μ ν†µμ‹  λ¶„μ„
- κΈ°λ³Έ νΈλν”½ μΊ΅μ²
- μ„±λ¥ λΉ„κµ (μ ν•μ )
- μ½”λ“ κµ¬μ΅° λ¶„μ„

### β³ μ¶”κ°€ μ‘μ—… ν•„μ”

- λ¨λ“  κµ¬ν„μ²΄ λ™μ‹ λΉ„κµ
- κ³µκ²© μ‹λ‚λ¦¬μ¤ μ¬ν„
- μ‹¤μ  λ‹¤μ΄κ·Έλ μ΄λ“ κ³µκ²© κ²€μ¦
- ν‰λ¬Έ μκ²©μ¦λ… ν™•μΈ

## π’΅ κ¶μ¥ μ ‘κ·Ό

### μµμ… A: Python/Node.js μ¤‘μ‹¬ (λΉ λ¥Έ μ§„ν–‰)

1. Pythonκ³Ό Node.jsλ§ μ‚¬μ©
2. λ‘ κµ¬ν„μ²΄ λΉ„κµ λ¶„μ„
3. λ‚λ¨Έμ§€λ” ν›„μ† μ‘μ—…μΌλ΅ μ²λ¦¬

### μµμ… B: μ „μ²΄ κµ¬ν„ (μ™„μ„±λ„ λ†’μ)

1. κ° μ„λ²„ μ—°κ²° λ¬Έμ  ν•΄κ²°
2. λ¨λ“  κµ¬ν„μ²΄ ν™μ„±ν™”
3. μΆ…ν•© λΉ„κµ λ¶„μ„

### μµμ… C: λ‹¨κ³„μ  μ ‘κ·Ό

1. PythonμΌλ΅ μ „μ²΄ νλ¦„ κ²€μ¦
2. Node.js μ¶”κ°€ν•μ—¬ μ΄μ¤‘ λΉ„κµ
3. λ¬Έμ  ν•΄κ²°ν•λ©° λ‚λ¨Έμ§€ μ¶”κ°€

## π“ μ¤‘μ” νμΌ μ„μΉ

```
/root/opcua-research/
β”β”€β”€ scripts/              # μλ™ν™” μ¤ν¬λ¦½νΈ
β”β”€β”€ servers/              # OPC UA μ„λ²„ κµ¬ν„
β”β”€β”€ clients/              # OPC UA ν΄λΌμ΄μ–ΈνΈ
β”β”€β”€ pcaps/                # μΊ΅μ² νμΌ (ν„μ¬ λΉ„μ–΄μμ)
β”β”€β”€ reports/              # λ¶„μ„ λ³΄κ³ μ„ (ν„μ¬ λΉ„μ–΄μμ)
β”β”€β”€ logs/                 # μ„λ²„ λ΅κ·Έ
β””β”€β”€ certs/                # μΈμ¦μ„
```

## π“ λ…Όλ¬Έ ν™μ©

ν„μ¬ μƒνƒμ—μ„λ„ λ‹¤μκ³Ό κ°™μ΄ ν™μ© κ°€λ¥:

1. **ν™κ²½ κµ¬μ¶• λ°©λ²•λ΅ **: Docker, μλ™ν™” μ¤ν¬λ¦½νΈ
2. **μ„¤μ • λ³µμ΅λ„ λΉ„κµ**: κ° λΌμ΄λΈλ¬λ¦¬λ³„ μ„¤μ • μ½”λ“
3. **μ•„ν‚¤ν…μ² λ¶„μ„**: μ½”λ“ κµ¬μ΅° λΉ„κµ
4. **λ³΄μ• λ¶„μ„**: κΈ°λ³Έ μ„¤μ • λ³΄μ•μ„± ν‰κ°€

μ‹¤μ  νΈλν”½ λ¶„μ„μ€ νΈλν”½ μΊ΅μ² λ¬Έμ  ν•΄κ²° ν›„ μ§„ν–‰ κ¶μ¥.

## π“ λ¬Έμ μ‚¬ν•­

λ¬Έμ  λ°μƒ μ‹:
1. `TROUBLESHOOTING.md` μ°Έμ΅°
2. λ΅κ·Έ νμΌ ν™•μΈ: `logs/*.log`
3. μ„λ²„ ν”„λ΅μ„Έμ¤ ν™•μΈ: `ps aux | grep opcua`

μμ„Έν• λ‚΄μ©μ€ κ° κ°€μ΄λ“ λ¬Έμ„ μ°Έμ΅°.
